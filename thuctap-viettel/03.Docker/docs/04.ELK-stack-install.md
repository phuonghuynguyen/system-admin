<h1 style="color:orange">Cài đặt ELK stack</h1>
<h2 style="color:orange">1. Cài đặt Elasticsearch</h2>
Cài đặt và install public key

    # rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch
Tạo repository của elasticsearch

    # vim /etc/yum.repos.d/elasticsearch.repo
paste vào

    [elasticsearch]
    name=Elasticsearch repository for 7.x packages
    baseurl=https://artifacts.elastic.co/packages/7.x/yum
    gpgcheck=1
    gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch
    enabled=0
    autorefresh=1
    type=rpm-md
Cài elasticsearch

    # yum install --enablerepo=elasticsearch elasticsearch -y
Chỉnh sửa file cấu hình elasticsearch

    # vim /etc/elasticsearch/elasticsearch.yml
chỉnh sửa

    bootstrap.memory_lock: true
    network.host: 0.0.0.0
    http.port: 9200
    transport.host: localhost
    transport.tcp.port: 9300
    action.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*
Cấu hình firewalld

    # firewall-cmd --permanent --add-port=9200/tcp
    # firewall-cmd --reload
Bật elasticsearch

    # systemctl start elasticsearch
    # systemctl enable elasticsearch
<h2 style="color:orange">2. Cài đặt Kibana</h2>
Tạo repository của kibana

    # vim /etc/yum.repos.d/kibana.repo
paste vào

    [kibana-7.x]
    name=Kibana repository for 7.x packages
    baseurl=https://artifacts.elastic.co/packages/7.x/yum
    gpgcheck=1
    gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch
    enabled=1
    autorefresh=1
    type=rpm-md
Cài kibana

    # yum install -y kibana
Chỉnh sửa file cấu hình kibana

    # vim /etc/kibana/kibana.yml
paste vào

    server.port: 5601
    server.host: 0.0.0.0
    elasticsearch.hosts: "http://localhost:9200"
Ở đây localhost là địa chỉ IP của elasticsearch host. Tuy vậy, ta thường cài elasticsearch và kibana trên cùng 1 host.